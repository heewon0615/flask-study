# 2.4 요청과 응답

## 2.4.1 플라스크에서의 요청 처리
플라스크에서는 request 객체를 통해 요청 데이터에 접근할 수 있다. 
이 객체는 클라이언트에게 받은 여러 가지 정보, 예를 들어 URL, 헤터, 쿠키, 쿼리 매개변수 등을 포함하고 있다.

* 쿼리 매개변수 : URL의 ? 이후에 나오는 키-값 쌍의 데이터로, 웹 서버에 추가 정보를 제공하기 위해 사용
                이 정보는 주로 폼 데이터의 전송, 페이지 정렬, 검색 필터 등에서 사용되며 URL에 직접 포함되기 때문에 사용자 또는 웹 서비스가 생성한 링크를 통해 쉽게 공유할 수 있다.

```
from flask import Flask, request

app = Flask(__name__)

@app.route('/query')
def query_example():
  language = request.args.get('language')
  return f"Requested language: {language}"
```
이 예제는 http://127.0.0.1:5000/query?language=python 같은 주소로 접속하면 Requested language: python이라고 응답한다.

플라스크에서는 request.args 딕서너리를 통해 쿼리 매개변수에 접근할 수 있으며, GET 메서드를 사용해 특정 키에 해당하는 값들을 추출할 수 있다. 

## 2.4.2 플라스크에서의 응답 처리
**응답**은 클라이언트의 요청을 처리한 후 웹 서버가 되돌려 보내는 데이터 패키지이다. 
이 응답 패키지에는 요청이 성공적이었는지, 에러가 발생했는지를 나타내는 HTTP 상태 코드, 데이터 타입이나 캐시 제어 같은 추가적인 정보를 제공하는 헤더, 그리고 실제 전송하려는 데이터인 바디가 포함된다. 

**플라스크의 헬퍼 함수**는 개발자가 일반적인 웹 개발 작업을 쉽게 처리할 수 있도록 돕는 미리 정의된 함수들이다. 
예를 들어 url_for() 함수는 라우트 이름과 매개변수를 기반으로 URL을 동적으로 생성하는 데 사용되고, jsonify() 함수는 파이썬의 딕셔너리를 JSON 응답으로 변환하여 반환하는 데 사용된다. 
```
from flask import Flask, jsonify
app = Flask(__name__)

@app.route('/json')
def json_example():
    # jsonify를 사용하여 JSON 형식의 응답을 반환
    return jsonify({"message": "Hello, World!"})
```
실행 결과

<img width="570" height="186" alt="image" src="https://github.com/user-attachments/assets/a4158b45-53eb-4fe8-90f7-2f612b33ea5b" />

응답 처리는 웹 개발의 핵심 요소이며, 플라스크에서는 이를 간편하게 만들어준다. 텍스트 기반의 JSON 형식은 웹에서 데이터를 교환하기에 매우 효율적이며, 플라스크의 jsonify() 함수는 이를 손쉽게 구현할 수 있도록 도와준다.

## 2.4.3 JSON이란?
**JSON**은 데이터를 저장하거나 전송할 때 사용하는 경량의 데이터 교환 형식이다. 
- 데이터는 이름/값 쌍으로 이루어진다.
- 중괄호 {}는 객체를, 대괄호 []는 배열을 나타낸다.
- 이름과 값은 콜론(:)으로 구분된다.
- 각 이름은 문자열이어야 하며, 값은 다양한 타입이 될 수 있다.

```
{
  "name" : "Heewon Joo",
  "age" : 23,
  "isStudent" : True,
  "address" : {
    "city" : "Seoul",
    "country" : "South Korea"
  }
}
```
API(Application Programming Interface)는 시스템과 시스템, 프로그램과 프로그램이 서로 소통하기 위한 중간 다리 같은 역할을 한다. 
실무에서 JSON은 웹 API를 통해 프론트엔드와 백엔드 간, 또는 서비스와 서비스 간에 데이터를 주고받는 데 기본적인 형식으로 자리 잡았다. 모바일 애플리케이션, 웹 서비스, IoT 디바이스와의 통신에 이르기까지 JSON은 데이터 교환의 표준으로 여겨진다. 

                
